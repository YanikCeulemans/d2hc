<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../d2hc-hero-ability/d2hc-hero-ability.html">
<link rel="import" href="../../elements/d2hc-image/d2hc-image.html">

<polymer-element name="d2hc-hero-card" attributes="herodata">
  <template>
    <link rel="stylesheet" href="d2hc-hero-card.css">
    <div id="wrapper" layout vertical center>
        <div class="name-container" self-stretch layout horizontal justified>
            <h2 class="hero-name" flex self-end>{{herodata.name}}</h2>
            <d2hc-image src="{{getPrimePath(herodata.prime)}}" alt="Strength hero" width="31" height="33"></d2hc-image>
        </div>
        <video id="webm" autoplay loop src="{{herodata.portrait}}" width="256" height="256"></video>
        <div layout horizontal justified self-stretch class="hero-abilities-wrapper">
            <span id="ability-space-reserve"></span>
            <template repeat="{{ability in herodata.abilities}}">
                <d2hc-hero-ability src="{{ability.img}}" alt="img alt">
                    <div tip>
                        <h2>{{ability.name}}</h2>
                        <p>{{ability.description}}</p>
                    </div>
                </d2hc-hero-ability>
            </template>
        </div>
    </div>
  </template>
  <script>
    (function () {
      'use strict';

      Polymer({
        created: function(){
            this.herodata = {};
        },
        setData: function(data){
            this.herodata = data;
            console.log(this.herodata);
        },
        getPrimePath: function(type){
            if (type){
                return '/images/hero-type-' + type + '.png';
            }
            return '';
        }
      });

    })();
  </script>
</polymer-element>
