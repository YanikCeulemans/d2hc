<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="d2hc-image" attributes="src alt width height">
    <template>
        <style>
            #img{
                transition: opacity ease-in 0.2s;
            }
            #img[resolved]{
                opacity: 100;
            }
            #img[unresolved]{
                opacity: 0;
            }
        </style>
        <img id="img" src="{{src}}" alt="{{alt}}" width="{{width}}" height="{{height}}">
    </template>
    <script>
    (function () {
        'use strict';

        Polymer({
            ready: function(){
                var img = this.$.img;
                img.setAttribute('unresolved', '');
                img.onload = function(){
                    this.setAttribute('resolved', '');
                    this.removeAttribute('unresolved');
                };
            }
        });
    })();
    </script>
</polymer-element>
